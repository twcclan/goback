syntax = "proto3";

package proto;

enum ChunkType {
	DATA = 0;
	FILE = 1;
	FILE_INFO = 2;
	SNAPSHOT = 3;
	SNAPSHOT_INFO = 4;
}

// a reference to a self-describing chunk
// of metadata or a data chunk
message ChunkRef {
	bytes sum = 1;
	ChunkType type = 2;
}

message Chunk {
	ChunkRef ref = 1;
	bytes data = 2;
}
